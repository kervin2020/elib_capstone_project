# E-Lib Frontend Documentation ## 📋 Overview This is a modern, responsive React frontend for the E-Lib hybrid library management system. It provides both digital book reading and physical book loaning capabilities with a comprehensive admin dashboard. ## 🏗️ Architecture ### Tech Stack - **React 19.1.1** - Modern React with latest features - **React Router DOM 6.8.1** - Client-side routing - **Tailwind CSS 3.3.0** - Utility-first CSS framework - **Axios 1.6.0** - HTTP client for API communication - **Lucide React 0.263.1** - Beautiful icon library - **Recharts 2.8.0** - Data visualization ### Project Structure ``` src/ ├── components/ # Reusable UI components │ ├── common/ # Shared components │ ├── auth/ # Authentication components │ ├── books/ # Book-related components │ ├── user/ # User dashboard components │ └── admin/ # Admin components ├── contexts/ # React Context providers ├── pages/ # Page components ├── hooks/ # Custom React hooks ├── services/ # API service functions ├── utils/ # Utility functions └── styles/ # CSS and styling files ``` ## Context Providers ### 1. AuthContext (`src/contexts/AuthContext.jsx`) **Purpose**: Manages user authentication state and operations. **Key Features**: - User login/logout functionality - JWT token management - User registration - Admin role checking - Automatic token refresh **Usage**: ```jsx import { useAuth } from '../contexts/AuthContext'; const { user, isAuthenticated, login, logout, isAdmin } = useAuth(); ``` **State**: - `user`: Current user object - `isAuthenticated`: Boolean authentication status - `isLoading`: Loading state for auth operations - `error`: Error messages ### 2. BookContext (`src/contexts/BookContext.jsx`) **Purpose**: Manages book data and operations. **Key Features**: - Fetch all books - Search and filter books - Add/edit/delete books (admin) - Category management - Book availability tracking **Usage**: ```jsx import { useBooks } from '../contexts/BookContext'; const { books, searchBooks, addBook, deleteBook } = useBooks(); ``` ### 3. LoanContext (`src/contexts/LoanContext.jsx`) **Purpose**: Manages book loans and borrowing operations. **Key Features**: - Create new loans - Return books - Track loan history - Calculate statistics - Overdue loan detection **Usage**: ```jsx import { useLoans } from '../contexts/LoanContext'; const { loans, createLoan, returnBook, getUserActiveLoans } = useLoans(); ``` ### 4. AdminContext (`src/contexts/AdminContext.jsx`) **Purpose**: Manages admin operations and user management. **Key Features**: - User management (ban/unban) - System statistics - Category management - Admin dashboard data **Usage**: ```jsx import { useAdmin } from '../contexts/AdminContext'; const { users, stats, toggleUserBan, deleteUser } = useAdmin(); ``` ### 5. ToastContext (`src/contexts/ToastContext.jsx`) **Purpose**: Manages notification toasts throughout the application. **Key Features**: - Success notifications - Error notifications - Warning notifications - Info notifications - Auto-dismiss timers **Usage**: ```jsx import { useToast } from '../contexts/ToastContext'; const { success, error, warning, info } = useToast(); ``` ## Components ### Common Components #### Header (`src/components/common/Header.jsx`) **Purpose**: Main navigation header with search functionality. **Features**: - Responsive navigation menu - Search bar with real-time search - User authentication status - Mobile hamburger menu - Active route highlighting **Props**: None (uses context) #### Footer (`src/components/common/Footer.jsx`) **Purpose**: Site footer with links and contact information. **Features**: - Quick navigation links - Contact information - Social media links - Copyright information #### BookCard (`src/components/common/BookCard.jsx`) **Purpose**: Displays book information in a card format. **Props**: - `book`: Book object - `onLoan`: Function to handle book borrowing - `isLoaned`: Boolean indicating if book is already loaned - `showLoanButton`: Boolean to show/hide loan button **Features**: - Book cover placeholder - Availability status - Category tags - Hover effects - Action buttons #### Modal (`src/components/common/Modal.jsx`) **Purpose**: Reusable modal component. **Props**: - `isOpen`: Boolean to control modal visibility - `onClose`: Function to close modal - `title`: Modal title - `size`: Modal size (small, medium, large, xl, full) - `showCloseButton`: Boolean to show/hide close button - `closeOnOverlayClick`: Boolean to close on overlay click #### ConfirmModal (`src/components/common/ConfirmModal.jsx`) **Purpose**: Confirmation dialog for destructive actions. **Props**: - `isOpen`: Boolean to control modal visibility - `onClose`: Function to close modal - `onConfirm`: Function to handle confirmation - `title`: Modal title - `message`: Confirmation message - `confirmText`: Confirm button text - `cancelText`: Cancel button text - `type`: Modal type (warning, danger) - `isLoading`: Loading state #### LoadingSpinner (`src/components/common/LoadingSpinner.jsx`) **Purpose**: Loading indicator component. **Props**: - `size`: Spinner size (small, medium, large, xl) - `className`: Additional CSS classes #### Toast (`src/components/common/Toast.jsx`) **Purpose**: Individual toast notification. **Props**: - `id`: Unique toast identifier - `type`: Toast type (success, error, warning, info) - `title`: Toast title - `message`: Toast message - `duration`: Auto-dismiss duration - `onClose`: Function to close toast #### ToastContainer (`src/components/common/ToastContainer.jsx`) **Purpose**: Container for managing multiple toasts. **Props**: - `toasts`: Array of toast objects - `onClose`: Function to close specific toast ### Authentication Components #### LoginForm (`src/components/auth/LoginForm.jsx`) **Purpose**: User login form. **Features**: - Email and password fields - Password visibility toggle - Form validation - Error handling - Loading states - Link to registration #### RegisterForm (`src/components/auth/RegisterForm.jsx`) **Purpose**: User registration form. **Features**: - Username, email, password fields - Password confirmation - Form validation - Error handling - Loading states - Link to login ### Book Components #### BookDetailModal (`src/components/books/BookDetailModal.jsx`) **Purpose**: Detailed book view in modal format. **Features**: - Complete book information - Online reading capability - Download functionality - Borrow physical copy - Category display - Availability status #### AddBookModal (`src/components/books/AddBookModal.jsx`) **Purpose**: Form to add new books (admin only). **Features**: - Book information form - File upload for digital books - Category selection - Copy management - Form validation - File type restrictions ## Pages ### HomePage (`src/pages/HomePage.jsx`) **Purpose**: Landing page with library overview. **Features**: - Hero section with search - Library statistics - Featured books grid - Recommended reads - User reviews - Call-to-action buttons ### BooksPage (`src/pages/BooksPage.jsx`) **Purpose**: Book catalog with search and filtering. **Features**: - Search functionality - Category filtering - Availability filtering - Grid/list view toggle - Book cards with actions - Pagination (future enhancement) ### LoansPage (`src/pages/LoansPage.jsx`) **Purpose**: User loan management dashboard. **Features**: - Active loans display - Loan history - Return functionality - Overdue loan tracking - Statistics cards - Tab navigation ### AdminPage (`src/pages/AdminPage.jsx`) **Purpose**: Admin dashboard for system management. **Features**: - System statistics - User management - Book management - Category management - Recent activity - Admin-only actions ## Routing ### Route Structure ```jsx / - HomePage (public) /books - BooksPage (public) /login - LoginForm (public) /register - RegisterForm (public) /loans - LoansPage (protected) /admin - AdminPage (admin only) ``` ### Protected Routes - **LoansPage**: Requires authentication - **AdminPage**: Requires admin role ### Route Protection ```jsx const ProtectedRoute = ({ children, requireAdmin = false }) => { const { isAuthenticated, user } = useAuth(); if (!isAuthenticated) { return <Navigate to="/login" replace />; } if (requireAdmin && !user?.is_admin) { return <Navigate to="/" replace />; } return children; }; ``` ## Styling ### Tailwind CSS Configuration - **Custom Colors**: Primary and accent color palettes - **Custom Fonts**: Inter font family - **Custom Animations**: Fade-in, slide-up, scale effects - **Responsive Design**: Mobile-first approach ### Design System - **Colors**: Primary (grays), Accent (blues), Status colors - **Typography**: Inter font with proper hierarchy - **Spacing**: Consistent spacing scale - **Shadows**: Layered shadow system - **Borders**: Rounded corners (8-12px) ### Component Classes ```css .btn-primary /* Primary button styling */ .btn-secondary /* Secondary button styling */ .card /* Card component styling */ .input-field /* Input field styling */ ``` ## 🔌 API Integration ### Base Configuration ```javascript const API_BASE_URL = 'http://localhost:5000/api'; ``` ### Axios Interceptors - **Request**: Automatic JWT token attachment - **Response**: Error handling and token refresh ### API Endpoints Used - `POST /login` - User authentication - `POST /users` - User registration - `GET /ebooks` - Fetch books - `POST /loans` - Create loan - `PUT /loans/:id` - Return book - `GET /users` - Fetch users (admin) - `GET /categories` - Fetch categories ## Features ### User Features - **Book Browsing**: Search and filter books - **Online Reading**: Read books directly in browser - **Book Download**: Download digital books - **Physical Loans**: Borrow physical book copies - **Loan Management**: Track active loans and history - **User Profile**: Manage account information ### Admin Features - **User Management**: Ban/unban users, view user details - **Book Management**: Add, edit, delete books - **Category Management**: Manage book categories - **System Statistics**: View library metrics - **Loan Management**: Monitor all loans - **Content Management**: Upload and manage digital books ### System Features - **Responsive Design**: Works on all device sizes - **Real-time Notifications**: Toast notifications for all actions - **Modal System**: Reusable modal components - **Loading States**: Proper loading indicators - **Error Handling**: Comprehensive error management - **Authentication**: JWT-based authentication - **Authorization**: Role-based access control ## 📱 Responsive Design ### Breakpoints - **Mobile**: < 768px - **Tablet**: 768px - 1024px - **Desktop**: > 1024px ### Mobile Features - Hamburger navigation menu - Touch-friendly buttons - Optimized card layouts - Swipe gestures (future) ## 🔒 Security ### Authentication - JWT token-based authentication - Automatic token refresh - Secure token storage in localStorage - Protected route access ### Authorization - Role-based access control - Admin-only features protection - User data isolation ### Data Validation - Client-side form validation - Server-side validation feedback - Input sanitization - XSS protection ## Testing ### Component Testing - Unit tests for individual components - Integration tests for user flows - Accessibility testing ### Browser Testing - Chrome, Firefox, Safari, Edge - Mobile browsers - Responsive design testing ## Deployment ### Build Process ```bash npm run build ``` ### Environment Variables - `REACT_APP_API_URL`: Backend API URL - `REACT_APP_ENVIRONMENT`: Environment (development/production) ### Production Optimizations - Code splitting - Bundle optimization - Image optimization - Caching strategies ## 📈 Performance ### Optimization Techniques - Lazy loading for components - Image optimization - Bundle splitting - Caching strategies - Memoization for expensive operations ### Metrics - First Contentful Paint - Largest Contentful Paint - Cumulative Layout Shift - First Input Delay ## Development ### Setup ```bash # Install dependencies npm install # Start development server npm run dev # Build for production npm run build ``` ### Code Style - ESLint configuration - Prettier formatting - Component naming conventions - File organization ### Git Workflow - Feature branches - Pull request reviews - Automated testing - Deployment pipeline ## 📚 Dependencies ### Production Dependencies - `react`: ^19.1.1 - `react-dom`: ^19.1.1 - `react-router-dom`: ^6.8.1 - `axios`: ^1.6.0 - `lucide-react`: ^0.263.1 - `recharts`: ^2.8.0 ### Development Dependencies - `tailwindcss`: ^3.3.0 - `autoprefixer`: ^10.4.14 - `postcss`: ^8.4.24 - `vite`: ^7.1.7 - `@vitejs/plugin-react`: ^5.0.4 ## 🐛 Troubleshooting ### Common Issues 1. **API Connection**: Check backend server is running 2. **Authentication**: Clear localStorage and re-login 3. **Styling**: Ensure Tailwind CSS is properly configured 4. **Routing**: Check route paths and navigation ### Debug Tools - React Developer Tools - Browser DevTools - Network tab for API calls - Console for error messages ## 📞 Support For technical support or questions: - Check the documentation - Review error messages in console - Test API endpoints independently - Verify environment configuration --- This documentation provides a comprehensive overview of the E-Lib frontend application. Each component, context, and page is designed to work together to create a seamless user experience for both regular users and administrators. 